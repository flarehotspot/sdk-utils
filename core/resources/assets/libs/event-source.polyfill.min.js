!function(e){if(!("EventSource"in e)){var t=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,s=function(e){var s=this,r=500,a=null,i="";if(!e||"string"!=typeof e)throw SyntaxError("Not enough arguments");function l(e){s._pollTimer=setTimeout(function(){o.call(s)},e)}function o(){try{if(s.readyState==s.CLOSED)return;var e=new XMLHttpRequest;e.open("GET",s.URL,!0),e.setRequestHeader("Accept","text/event-stream"),e.setRequestHeader("Cache-Control","no-cache"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=a&&e.setRequestHeader("Last-Event-ID",a),i="",e.timeout=5e4,e.onreadystatechange=function(){if(3==this.readyState||4==this.readyState&&200==this.status){s.readyState==s.CONNECTING&&(s.readyState=s.OPEN,s.dispatchEvent("open",{type:"open"}));var e="";try{e=this.responseText||""}catch(o){}var h=e.substr(i.length).split("\n"),d="message",u=[],c=0,f="";for(i=e;c<h.length;c++)if(f=h[c].replace(t,""),0==f.indexOf("event"))d=f.replace(/event:?\s*/,"");else if(0==f.indexOf("retry")){var p=parseInt(f.replace(/retry:?\s*/,""));isNaN(p)||(r=p)}else if(0==f.indexOf("data"))u.push(f.replace(/data:?\s*/,""));else if(0==f.indexOf("id:"))a=f.replace(/id:?\s*/,"");else if(0==f.indexOf("id"))a=null;else if(""==f&&u.length){var v=new n(u.join("\n"),s.url,a);s.dispatchEvent(d,v),u=[],d="message"}4==this.readyState&&l(r)}else s.readyState!==s.CLOSED&&(4==this.readyState?(s.readyState=s.CONNECTING,s.dispatchEvent("error",{type:"error"}),l(r)):0==this.readyState&&l(r))},e.send(),setTimeout(function(){e.abort()},e.timeout),s._xhr=e}catch(o){s.dispatchEvent("error",{type:"error",data:o.message})}}this.URL=e,this.readyState=this.CONNECTING,this._pollTimer=null,this._xhr=null,o()};s.prototype={close:function(){this.readyState=this.CLOSED,clearInterval(this._pollTimer),this._xhr.abort()},CONNECTING:0,OPEN:1,CLOSED:2,dispatchEvent:function(e,t){var s=this["_"+e+"Handlers"];if(s)for(var n=0;n<s.length;n++)s[n].call(this,t);this["on"+e]&&this["on"+e].call(this,t)},addEventListener:function(e,t){this["_"+e+"Handlers"]||(this["_"+e+"Handlers"]=[]),this["_"+e+"Handlers"].push(t)},removeEventListener:function(e,t){var s=this["_"+e+"Handlers"];if(s){for(var n=s.length-1;n>=0;--n)if(s[n]===t){s.splice(n,1);break}}},onerror:null,onmessage:null,onopen:null,readyState:0,URL:""};var n=function(e,t,s){this.data=e,this.origin=t,this.lastEventId=s||""};n.prototype={data:null,type:"message",lastEventId:"",origin:""},"module"in e&&(module.exports=s),e.EventSource=s}}(this);
